{"version":3,"file":"vendor-zustand.js","sources":["../node_modules/zustand/esm/index.js"],"sourcesContent":["import { useReducer, useRef, useDebugValue, useEffect, useLayoutEffect } from 'react';\n\nfunction createStore(createState) {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    console.warn(\"[DEPRECATED] Please use `subscribeWithSelector` middleware\");\n    let currentSlice = selector(state);\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? useEffect : useLayoutEffect;\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\n    const [, forceUpdate] = useReducer((c) => c + 1, 0);\n    const state = api.getState();\n    const stateRef = useRef(state);\n    const selectorRef = useRef(selector);\n    const equalityFnRef = useRef(equalityFn);\n    const erroredRef = useRef(false);\n    const currentSliceRef = useRef();\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = useRef(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n      const unsubscribe = api.subscribe(listener);\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    const sliceToReturn = hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n    useDebugValue(sliceToReturn);\n    return sliceToReturn;\n  };\n  Object.assign(useStore, api);\n  useStore[Symbol.iterator] = function() {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    const items = [useStore, api];\n    return {\n      next() {\n        const done = items.length <= 0;\n        return { value: items.shift(), done };\n      }\n    };\n  };\n  return useStore;\n}\n\nexport { create as default };\n"],"names":["createStore","createState","state","listeners","setState","partial","replace","nextState","previousState","listener","getState","subscribeWithSelector","selector","equalityFn","currentSlice","listenerToAdd","nextSlice","previousSlice","api","isSSR","useIsomorphicLayoutEffect","useEffect","useLayoutEffect","create","useStore","forceUpdate","useReducer","c","stateRef","useRef","selectorRef","equalityFnRef","erroredRef","currentSliceRef","newStateSlice","hasNewStateSlice","stateBeforeSubscriptionRef","nextStateSlice","unsubscribe","sliceToReturn","useDebugValue","items","done"],"mappings":"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","x_google_ignoreList":[0]}